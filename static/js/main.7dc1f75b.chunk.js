(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1040:function(e,t){},1041:function(e,t){},106:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var n=a(42),r=a(161),c=a(6),o=a.n(c),s=a(23),u=a(43),i=function(e){var t=o.a.useContext(u.a),a=t.store,n=t.loadResource,c=t.podOrigin,s=e.children?e.children:l(e.resource,a,c),i=e.title;i||(i="View ".concat("string"===typeof s?s:l(e.resource,a,c)));var m=Object(r.a)({},e,{title:i,resource:void 0});return o.a.createElement("a",Object.assign({},m,{href:e.resource.uri,onClick:function(t){e.resource.uri.substring(0,c.length)===c&&(t.preventDefault(),n(e.resource.uri))}}),s)};function l(e,t,a){var r=t.statementsMatching(e,s.b.foaf("name"),null,null,!0),c=Object(n.a)(r,1)[0];if(c&&c.object)return c.object.value;if(e.value.substring(0,a.length)===a){var o="/"===e.value.charAt(e.value.length-1)?e.value.substring(0,e.value.length-1):e.value;return o.substring(o.lastIndexOf("/")+1)}for(var u=0,i=Object.values(s.a);u<i.length;u++){var l=i[u];if(e.value.substring(0,l.length).toLowerCase()===l.toLowerCase())return e.value.substring(l.length)}return e.value}},1244:function(e,t,a){"use strict";a.r(t);a(573),a(582);var n=a(6),r=a.n(n),c=a(565),o=a.n(c),s=(a(777),a(5)),u=a.n(s),i=a(90),l=a(17),m=a.n(l),d=a(66),p=a.n(d),f=(a(952),a(161)),w=function(){return r.a.createElement("p",null,"Loading\u2026")},h=a(43),v=function(e){var t=r.a.useContext(h.a),a=t.store,c=t.updater,o=t.loadResource,s=r.a.lazy(function(){return function(e){return g.apply(this,arguments)}(e.pane)});return r.a.createElement(n.Suspense,{fallback:r.a.createElement(w,null)},r.a.createElement(s,{store:a,updater:c,resource:e.resource,loadResource:o}))};function g(){return(g=Object(i.a)(u.a.mark(function e(t){var n,c,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(953)("./".concat(t,"/container"));case 2:if(n=e.sent,"undefined"===typeof n.Container){e.next=5;break}return e.abrupt("return",{default:n.Container});case 5:if(!b(n)){e.next=8;break}return c=function(e){var t=r.a.useRef(null);return r.a.useLayoutEffect(function(){t.current&&n.render(Object(f.a)({},e,{container:t.current}))}),r.a.createElement("div",{ref:t,className:"paneContainer"})},e.abrupt("return",{default:c});case 8:return o=function(){return r.a.createElement("div",null,"There was a problem loading ")},e.abrupt("return",{default:o});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return"undefined"!==typeof e.render}var E=a(23);var N=function(e){var t=r.a.useContext(h.a).store;if(!e.resource)return r.a.createElement(w,null);var a=void 0;return function(e,t){return t.holds(e,E.b.rdf("type"),E.b.ldp("Container"),e.doc())}(e.resource,t)&&(a="folder"),function(e,t){return t.holds(e,E.b.rdf("type"),E.b.foaf("Person"),e.doc())}(e.resource,t)&&(a="profile"),"undefined"===typeof a&&(a="fallback"),r.a.createElement(v,{pane:a,resource:e.resource})},y=a(42),O=a(45),j=function(e,t){var a=Object({NODE_ENV:"production",PUBLIC_URL:"/datasister",REACT_APP_BASENAME:"/datasister",REACT_APP_REMOTE:"true"}).REACT_APP_POD_ORIGIN||document.location.origin;var n=r.a.useState(),c=Object(y.a)(n,2),o=c[0],s=c[1],u=Object(O.useWebId)();return r.a.useEffect(function(){(function(e){return x.apply(this,arguments)})(a).then(function(n){if(n)s(a);else if("undefined"!==typeof u)if(null!==u){var r=m.a.sym(u);t.load(r).then(function(){var t=e.statementsMatching(r,E.b.space("storage"),null,r.doc(),!0),a=Object(y.a)(t,1)[0];if(a){var n=new URL(a.object.value);s(n.origin)}else s(null)}).catch(function(e){return s(null)})}else s(null)})},[a,u,t,e]),o};function x(){return(x=Object(i.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{"Content-Type":"text/turtle"}});case 3:return a=e.sent,n=a.headers.get("Content-Type"),e.abrupt("return",a.ok&&null!==n&&"text/turtle"===n.toLowerCase());case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}var k=function(){return r.a.createElement(O.LoginButton,{popup:"/datasister/popup.html",className:"button"},"Log in")},C=a(569),L=Object(C.a)();function P(e){var t=document.location.origin+"/datasister",a=new URL(t);a.search="?resource=".concat(encodeURI(e)),L.push(a.pathname+a.search+a.hash)}var R=a(566),U=a.n(R),M=a(567),A=a.n(M),S=a(106),_=function(e){var t=Object(O.useWebId)();return t?r.a.createElement(S.a,Object.assign({title:"View your profile"},e,{resource:m.a.sym(t)}),r.a.createElement("span",{className:"icon"},r.a.createElement("img",{src:A.a,alt:"View your profile"}))):null},I=function(){var e=r.a.useContext(h.a),t=e.store,a=e.fetcher,n=j(t,a),c=r.a.createElement("img",{src:U.a,style:{height:"25px"},alt:"Data Browser"}),o=n?r.a.createElement(S.a,{resource:m.a.sym(n),className:"navbar-item"},c):c;return r.a.createElement("header",{className:"header"},r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"navbar-brand"},o),r.a.createElement("div",{className:"navbar-menu"},r.a.createElement("div",{className:"navbar-end"},r.a.createElement(O.LoggedIn,null,r.a.createElement("div",{className:"navbar-item"},r.a.createElement(_,{className:"button is-text"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(O.LogoutButton,{className:"button"}))),r.a.createElement(O.LoggedOut,null,r.a.createElement("div",{className:"navbar-item"},r.a.createElement(O.LoginButton,{popup:"popup.html",className:"button"})))))))},T=function(){return r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"section"},r.a.createElement("h2",{className:"title"},"My profile"),r.a.createElement("p",null,"No name provided\u2026")))},W=function(){var e=r.a.useContext(h.a),t=e.store,a=e.fetcher,n=j(t,a),c=function(e,t){var a=Object(O.useWebId)(),n=r.a.useState(),c=Object(y.a)(n,2),o=c[0],s=c[1];return r.a.useEffect(function(){a&&function(e,t,a){return B.apply(this,arguments)}(e,t,a).then(s).catch(function(e){return console.log("Error fetching bookmarks:",e)})},[e,t,a]),o}(t,a);return Array.isArray(c)&&0!==c.length?r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"section"},r.a.createElement("h2",{className:"title"},"Latest bookmarks"),r.a.createElement("div",{className:"content"},r.a.createElement("ul",null,c.slice(0,5).map(function(e){return r.a.createElement("li",{key:e.url},r.a.createElement("a",{href:e.url},e.title))}))),r.a.createElement("a",{className:"button is-text",href:"https://vincenttunru.gitlab.io/poddit?idp=".concat(n||"")},"All bookmarks"))):null};function B(){return(B=Object(i.a)(u.a.mark(function e(t,a,n){var r,c,o,s,i,l,d,p,f,w,h,v,g,b,N;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.a.sym(n),c=t.statementsMatching(r,E.b.solid("publicTypeIndex"),null,r.doc(),!0),o=Object(y.a)(c,1),s=o[0],i=s.object,e.next=5,a.load(i);case 5:if(l=new m.a.NamedNode("http://www.w3.org/2002/01/bookmark#Bookmark"),d=t.statementsMatching(null,E.b.solid("forClass"),l,i,!0),p=Object(y.a)(d,1),f=p[0]){e.next=9;break}return e.abrupt("return",[]);case 9:return w=f.subject,h=t.statementsMatching(w,E.b.solid("instance"),null,i,!0),v=Object(y.a)(h,1),g=v[0],b=g.object,e.next=14,a.load(b);case 14:return N=t.statementsMatching(null,E.b.rdf("type"),l,b),e.abrupt("return",N.map(function(e){var a=new m.a.NamedNode("http://www.w3.org/2002/01/bookmark#recalls"),n=e.subject,r=t.statementsMatching(n,E.b.dct("title"),null,b),c=Object(y.a)(r,1)[0],o=t.statementsMatching(n,a,null,b),s=Object(y.a)(o,1)[0];return{title:c.object.value,url:s.object.value}}));case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=function(){var e=r.a.useContext(h.a),t=e.store,a=e.fetcher,n=j(t,a);return n?r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"section"},r.a.createElement("h2",{className:"title"},"Raw data"),r.a.createElement("p",{className:"buttons"},r.a.createElement(S.a,{className:"button is-primary is-fullwidth is-medium",resource:m.a.sym("".concat(n,"/public/"))},"Public data"),r.a.createElement(S.a,{className:"button is-fullwidth is-small",resource:m.a.sym("".concat(n,"/private/"))},"Private data")))):null},F=a(568),V=a.n(F),q=a(295),z=function(){var e=r.a.useContext(h.a),t=e.store,a=e.fetcher,n=j(t,a),c=Object(O.useWebId)(),o=c?Object(q.a)(t,m.a.sym(c)):[];if(0===o.length){var s=J("https://pixolid.netlify.com/",n);return r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"section"},r.a.createElement("h2",{className:"title"},"Try this app"),r.a.createElement("p",{className:"has-text-centered"},r.a.createElement("a",{href:s,title:"Open Pixolid"},r.a.createElement("img",{src:V.a,alt:"",style:{display:"inline-block",margin:"0 10%",maxWidth:"80%"}})))))}var u=o.map(function(e){var t=new URL(e.origin).hostname;return r.a.createElement("li",{key:e.origin},r.a.createElement("a",{href:J(e.origin,n)},t))});return r.a.createElement("div",{className:"card"},r.a.createElement("section",{className:"section"},r.a.createElement("h2",{className:"title"},"Your apps"),r.a.createElement("div",{className:"menu"},r.a.createElement("ul",{className:"menu-list"},u))))};function J(e,t){if(!t)return e;var a=new URL(e);return a.searchParams.set("idp",t),a.href}var G=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(T,null)),r.a.createElement("div",{className:"column"},r.a.createElement(z,null)),r.a.createElement("div",{className:"column"},r.a.createElement(D,null)),r.a.createElement("div",{className:"column"},r.a.createElement(W,null)))))},X=m.a.graph(),Y=new m.a.Fetcher(X,void 0),Z=new m.a.UpdateManager(X),$=function(e){return e.resourcePath===e.podOrigin||e.resourcePath===e.podOrigin+"/"?r.a.createElement(G,null):r.a.createElement(N,{resource:e.resource})};function H(){return(H=Object(i.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.a.currentSession();case 4:e.sent||p.a.login(t);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var K=function(){var e=j(X,Y),t=function(e){var t=r.a.useState(),a=Object(y.a)(t,2),n=a[0],c=a[1];return r.a.useEffect(function(){if(e){var t=new URL(document.location.href).searchParams.get("resource"),a=t?decodeURI(t):e;return c(a),L.listen(function(t){var a=new URLSearchParams(t.search);c(decodeURI(a.get("resource")||e))})}},[e]),n}(e),a=function(e,t){var a=r.a.useState(),n=Object(y.a)(a,2),c=n[0],o=n[1];return r.a.useEffect(function(){if(o(void 0),e){var a=m.a.sym(e);t.load(a).then(function(e){o(a)})}},[e,t]),c}(t,Y);if(URLSearchParams&&document.location.search.length>0){var n=new URLSearchParams(document.location.search.substring(1));if(n.has("idp"))return function(e){H.apply(this,arguments)}(n.get("idp")),r.a.createElement("div",null,"Logging you in, please stand by\u2026")}if("undefined"===typeof e)return r.a.createElement(w,null);if(null===e)return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"message is-danger"},r.a.createElement("div",{className:"message-body"},"Could not find a Pod to browse."))),r.a.createElement("section",{className:"section"},r.a.createElement(k,null)));var c={store:X,fetcher:Y,updater:Z,podOrigin:e,loadResource:P};return r.a.createElement(h.a.Provider,{value:c},r.a.createElement("div",{className:"App"},r.a.createElement(I,null),r.a.createElement($,{podOrigin:e,resourcePath:t,resource:a})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return o});var n=a(17),r=a.n(n),c={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",cal:"http://www.w3.org/2002/12/cal/ical#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http:/schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},o=Object.keys(c).reduce(function(e,t){return e[t]=function(e){return r.a.namedNode(c[t]+e)},e},{})},295:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"b",function(){return u}),a.d(t,"a",function(){return i});var n=a(570),r=a(17),c=a.n(r),o=a(23);function s(e,t,a){return a.statementsMatching(null,o.b.acl("origin"),e,null).reduce(function(e,n){return e.concat(a.statementsMatching(t,o.b.acl("trustedApp"),n.subject,null,!1)).concat(a.statementsMatching(n.subject,null,null,null,!1))},[])}function u(e,t,a,r){var s=new c.a.BlankNode("bn_".concat(t));return[c.a.st(r,o.b.acl("trustedApp"),s,r.doc()),c.a.st(s,o.b.acl("origin"),e,r.doc())].concat(Object(n.a)(a.map(function(e){return o.b.acl(e)}).map(function(e){return c.a.st(s,o.b.acl("mode"),e,r.doc())})))}function i(e,t){return e.each(t,o.b.acl("trustedApp"),void 0,void 0).flatMap(function(a){return e.each(a,o.b.acl("origin"),void 0,void 0).map(function(n){var r=e.each(a,o.b.acl("mode"),void 0,void 0);return{origin:n.value,subject:t.value,modes:r.map(function(e){return e.value.replace(o.b.acl("Read").value,"Read").replace(o.b.acl("Append").value,"Append").replace(o.b.acl("Write").value,"Write").replace(o.b.acl("Control").value,"Control")})}})}).sort(function(e,t){return e.origin>t.origin?1:-1})}},43:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(6),r=a.n(n),c=a(17),o=a.n(c),s={podOrigin:document.location.origin,store:o.a.graph(),fetcher:new c.Fetcher(o.a.graph(),void 0),updater:new c.UpdateManager(o.a.graph()),loadResource:function(){}},u=r.a.createContext(s)},566:function(e,t,a){e.exports=a.p+"static/media/logo.13c16db9.svg"},567:function(e,t,a){e.exports=a.p+"static/media/user.267c6db6.svg"},568:function(e,t,a){e.exports=a.p+"static/media/pixolid.d34610cf.svg"},572:function(e,t,a){e.exports=a(1244)},777:function(e,t,a){},780:function(e,t){},782:function(e,t,a){var n={"./N3Lexer":239,"./N3Lexer.js":239,"./N3Parser":240,"./N3Parser.js":240,"./N3Store":362,"./N3Store.js":362,"./N3StreamParser":363,"./N3StreamParser.js":363,"./N3StreamWriter":369,"./N3StreamWriter.js":369,"./N3Util":241,"./N3Util.js":241,"./N3Writer":243,"./N3Writer.js":243};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=782},785:function(e,t){},787:function(e,t){},863:function(e,t){},864:function(e,t){},927:function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=927},952:function(e,t,a){},953:function(e,t,a){var n={"./fallback/container":[1248,4],"./folder/container":[1247,5],"./profile/container":[1249,3],"./profile/preferences/trustedApplications/container":[1246,6]};function r(e){if(!a.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(function(){return a(r)})}r.keys=function(){return Object.keys(n)},r.id=953,e.exports=r}},[[572,1,2]]]);
//# sourceMappingURL=main.7dc1f75b.chunk.js.map