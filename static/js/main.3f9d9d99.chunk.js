(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1036:function(e,t){},1037:function(e,t){},1241:function(e,t,r){"use strict";r.r(t);r(568),r(577);var n=r(8),a=r.n(n),o=r(563),c=r.n(o),u=(r(772),r(87)),s=(r(773),r(56)),i=r.n(s),l=r(565),w=(r(948),r(5)),f=r.n(w),p=r(211),d=r(212),h=function(){return a.a.createElement("p",null,"Loading\u2026")},m=r(74),g=function(e){var t=a.a.useContext(m.a),r=t.store,o=t.loadResource,c=a.a.lazy(function(){return function(e){return v.apply(this,arguments)}(e.pane)});return a.a.createElement(n.Suspense,{fallback:a.a.createElement(h,null)},a.a.createElement(c,{store:r,resource:e.resource,loadResource:o}))};function v(){return(v=Object(d.a)(f.a.mark(function e(t){var n,o,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(949)("./".concat(t,"/container"));case 2:if(n=e.sent,"undefined"===typeof n.Container){e.next=5;break}return e.abrupt("return",{default:n.Container});case 5:if(!b(n)){e.next=8;break}return o=function(e){var t=a.a.useRef(null);return a.a.useLayoutEffect(function(){t.current&&n.render(Object(p.a)({},e,{container:t.current}))}),a.a.createElement("div",{ref:t,className:"paneContainer"})},e.abrupt("return",{default:o});case 8:return c=function(){return a.a.createElement("div",null,"There was a problem loading ")},e.abrupt("return",{default:c});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return"undefined"!==typeof e.render}var E=r(88);var O=function(e){var t=a.a.useContext(m.a).store;if(!e.resource)return a.a.createElement(h,null);var r=void 0;return function(e,t){return t.holds(e,E.b.rdf("type"),E.b.ldp("Container"),e.doc())}(e.resource,t)&&(r="folder"),"undefined"===typeof r&&(r="fallback"),a.a.createElement(g,{pane:r,resource:e.resource})},N=r(564),y=r.n(N),j=r(213),x=r(293),k=function(){var e=Object(j.useWebId)();return e?a.a.createElement(x.a,{resource:i.a.sym(e),title:"View your profile"},a.a.createElement("span",{className:"icon"},a.a.createElement("img",{src:y.a,alt:"View your profile"}))):null},C=function(e,t){var r=Object({NODE_ENV:"production",PUBLIC_URL:"/datasister",REACT_APP_BASENAME:"/datasister",REACT_APP_REMOTE:"true"}).REACT_APP_POD_ORIGIN||document.location.origin;var n=a.a.useState(),o=Object(u.a)(n,2),c=o[0],s=o[1],l=Object(j.useWebId)();return a.a.useEffect(function(){(function(e){return P.apply(this,arguments)})(r).then(function(n){if(n)s(r);else if(l){var a=i.a.sym(l);t.load(a).then(function(){var t=e.statementsMatching(a,E.b.space("storage"),null,a.doc(),!0),r=Object(u.a)(t,1)[0];s(r?r.object.value:null)}).catch(function(e){return s(null)})}})},[r,l,t,e]),c};function P(){return(P=Object(d.a)(f.a.mark(function e(t){var r,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{"Content-Type":"text/turtle"}});case 3:return r=e.sent,n=r.headers.get("Content-Type"),e.abrupt("return",r.ok&&null!==n&&"text/turtle"===n.toLowerCase());case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}var _=i.a.graph(),L=new i.a.Fetcher(_,void 0),R=Object(l.a)(),A=function(e){var t=a.a.useContext(m.a).podOrigin;return e.resourcePath!==t&&e.resourcePath!==t+"/"?null:a.a.createElement("section",null,a.a.createElement("article",null,a.a.createElement("h2",null,"This is your Pod"),a.a.createElement("p",null,"Here, you can browse through all data stored by apps you gave access to your Pod.")))};function S(e){var t="/datasister";return e.substring(0,t.length)!==t?e:"/"===e.charAt(0)&&"/"!==e.charAt(t.length)?e.substring(t.length)+"/":e.substring(t.length)}var T=function(){var e=C(_,L),t=a.a.useState(),r=Object(u.a)(t,2),n=r[0],o=r[1],c=a.a.useState(),s=Object(u.a)(c,2),l=s[0],w=s[1];a.a.useEffect(function(){if(w(void 0),n){var e=i.a.sym(n);L.load(e).then(function(t){w(e)})}},[n]),a.a.useEffect(function(){if(e){var t=e+S(document.location.pathname)+document.location.search+document.location.hash;return f(t),o(t),R.listen(function(t){o(e+S(t.pathname)+t.search+t.hash)})}},[e]);var f=function(e){var t=new URL(e);R.push(t.pathname+t.search+t.hash)};if("undefined"===typeof e)return a.a.createElement(h,null);if(null===e)return a.a.createElement("section",{className:"banner-wrap--error-banner"},a.a.createElement("div",{className:"banner-wrap__content"},"Could not find the Pod to browse."));var p={store:_,podOrigin:e,loadResource:f};return a.a.createElement(m.a.Provider,{value:p},a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"header fixed"},a.a.createElement("div",{className:"header-wrap"},a.a.createElement("div",{className:"logo-block"},a.a.createElement("h1",null,"Data browser")),a.a.createElement("nav",{className:"nav nav__toolbar"},a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(k,null)))))),a.a.createElement("div",{className:"header-spacer"}),a.a.createElement(A,{resourcePath:n}),a.a.createElement(O,{resource:l})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},293:function(e,t,r){"use strict";r.d(t,"a",function(){return i});var n=r(87),a=r(211),o=r(8),c=r.n(o),u=r(88),s=r(74),i=function(e){var t=c.a.useContext(s.a),r=t.store,n=t.loadResource,o=t.podOrigin,u=e.children?e.children:l(e.resource,r,o),i=e.title;i||(i="View ".concat("string"===typeof u?u:l(e.resource,r,o)));var w=Object(a.a)({},e,{title:i,resource:void 0});return c.a.createElement("a",Object.assign({},w,{href:e.resource.uri,onClick:function(t){e.resource.uri.substring(0,o.length)===o&&(t.preventDefault(),n(e.resource.uri))}}),u)};function l(e,t,r){var a=t.statementsMatching(e,u.b.foaf("name"),null,null,!0),o=Object(n.a)(a,1)[0];if(o&&o.object)return o.object.value;if(e.value.substring(0,r.length)===r){var c="/"===e.value.charAt(e.value.length-1)?e.value.substring(0,e.value.length-1):e.value;return c.substring(c.lastIndexOf("/")+1)}for(var s=0,i=Object.values(u.a);s<i.length;s++){var l=i[s];if(e.value.substring(0,l.length).toLowerCase()===l.toLowerCase())return e.value.substring(l.length)}return e.value}},564:function(e,t,r){e.exports=r.p+"static/media/user.267c6db6.svg"},567:function(e,t,r){e.exports=r(1241)},74:function(e,t,r){"use strict";r.d(t,"a",function(){return s});var n=r(8),a=r.n(n),o=r(56),c=r.n(o),u={podOrigin:document.location.origin,store:c.a.graph(),loadResource:function(){}},s=a.a.createContext(u)},772:function(e,t,r){},776:function(e,t){},778:function(e,t,r){var n={"./N3Lexer":238,"./N3Lexer.js":238,"./N3Parser":239,"./N3Parser.js":239,"./N3Store":360,"./N3Store.js":360,"./N3StreamParser":361,"./N3StreamParser.js":361,"./N3StreamWriter":367,"./N3StreamWriter.js":367,"./N3Util":240,"./N3Util.js":240,"./N3Writer":242,"./N3Writer.js":242};function a(e){var t=o(e);return r(t)}function o(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=o,e.exports=a,a.id=778},781:function(e,t){},783:function(e,t){},859:function(e,t){},860:function(e,t){},88:function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return c});var n=r(56),a=r.n(n),o={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",cal:"http://www.w3.org/2002/12/cal/ical#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http:/schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},c=Object.keys(o).reduce(function(e,t){return e[t]=function(e){return a.a.namedNode(o[t]+e)},e},{})},923:function(e,t){function r(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id=923},948:function(e,t,r){},949:function(e,t,r){var n={"./fallback/container":[1243,3],"./folder/container":[1242,4]};function a(e){if(!r.o(n,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],a=t[0];return r.e(t[1]).then(function(){return r(a)})}a.keys=function(){return Object.keys(n)},a.id=949,e.exports=a}},[[567,1,2]]]);
//# sourceMappingURL=main.3f9d9d99.chunk.js.map