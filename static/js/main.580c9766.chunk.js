(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1038:function(e,t){},1039:function(e,t){},105:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(43),a=n(214),o=n(8),c=n.n(o),l=n(38),u=n(42),i=function(e){var t=c.a.useContext(u.a),n=t.store,r=t.loadResource,o=t.podOrigin,l=e.children?e.children:s(e.resource,n,o),i=e.title;i||(i="View ".concat("string"===typeof l?l:s(e.resource,n,o)));var p=Object(a.a)({},e,{title:i,resource:void 0});return c.a.createElement("a",Object.assign({},p,{href:e.resource.uri,onClick:function(t){e.resource.uri.substring(0,o.length)===o&&(t.preventDefault(),r(e.resource.uri))}}),l)};function s(e,t,n){var a=t.statementsMatching(e,l.b.foaf("name"),null,null,!0),o=Object(r.a)(a,1)[0];if(o&&o.object)return o.object.value;if(e.value.substring(0,n.length)===n){var c="/"===e.value.charAt(e.value.length-1)?e.value.substring(0,e.value.length-1):e.value;return c.substring(c.lastIndexOf("/")+1)}for(var u=0,i=Object.values(l.a);u<i.length;u++){var s=i[u];if(e.value.substring(0,s.length).toLowerCase()===s.toLowerCase())return e.value.substring(s.length)}return e.value}},1242:function(e,t,n){"use strict";n.r(t);n(570),n(579);var r=n(8),a=n.n(r),o=n(563),c=n.n(o),l=(n(774),n(775),n(28)),u=n.n(l),i=(n(950),n(5)),s=n.n(i),p=n(214),f=n(132),d=function(){return a.a.createElement("p",null,"Loading\u2026")},m=n(42),w=function(e){var t=a.a.useContext(m.a),n=t.store,o=t.loadResource,c=a.a.lazy(function(){return function(e){return h.apply(this,arguments)}(e.pane)});return a.a.createElement(r.Suspense,{fallback:a.a.createElement(d,null)},a.a.createElement(c,{store:n,resource:e.resource,loadResource:o}))};function h(){return(h=Object(f.a)(s.a.mark(function e(t){var r,o,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(951)("./".concat(t,"/container"));case 2:if(r=e.sent,"undefined"===typeof r.Container){e.next=5;break}return e.abrupt("return",{default:r.Container});case 5:if(!g(r)){e.next=8;break}return o=function(e){var t=a.a.useRef(null);return a.a.useLayoutEffect(function(){t.current&&r.render(Object(p.a)({},e,{container:t.current}))}),a.a.createElement("div",{ref:t,className:"paneContainer"})},e.abrupt("return",{default:o});case 8:return c=function(){return a.a.createElement("div",null,"There was a problem loading ")},e.abrupt("return",{default:c});case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return"undefined"!==typeof e.render}var v=n(38);var b=function(e){var t=a.a.useContext(m.a).store;if(!e.resource)return a.a.createElement(d,null);var n=void 0;return function(e,t){return t.holds(e,v.b.rdf("type"),v.b.ldp("Container"),e.doc())}(e.resource,t)&&(n="folder"),function(e,t){return t.holds(e,v.b.rdf("type"),v.b.foaf("Person"),e.doc())}(e.resource,t)&&(n="profile"),"undefined"===typeof n&&(n="fallback"),a.a.createElement(w,{pane:n,resource:e.resource})},E=n(43),y=n(52),N=function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/datasister",REACT_APP_BASENAME:"/datasister",REACT_APP_REMOTE:"true"}).REACT_APP_POD_ORIGIN||document.location.origin;var r=a.a.useState(),o=Object(E.a)(r,2),c=o[0],l=o[1],i=Object(y.useWebId)();return a.a.useEffect(function(){(function(e){return O.apply(this,arguments)})(n).then(function(r){if(r)l(n);else if("undefined"!==typeof i)if(null!==i){var a=u.a.sym(i);t.load(a).then(function(){var t=e.statementsMatching(a,v.b.space("storage"),null,a.doc(),!0),n=Object(E.a)(t,1)[0];if(n){var r=new URL(n.object.value);l(r.origin)}else l(null)}).catch(function(e){return l(null)})}else l(null)})},[n,i,t,e]),c};function O(){return(O=Object(f.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:{"Content-Type":"text/turtle"}});case 3:return n=e.sent,r=n.headers.get("Content-Type"),e.abrupt("return",n.ok&&null!==r&&"text/turtle"===r.toLowerCase());case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,null,[[0,8]])}))).apply(this,arguments)}var x=function(){return a.a.createElement(y.LoginButton,{popup:"/datasister/popup.html"},"Log in")},j=n(567),k=Object(j.a)();function C(e){var t=new URL("/datasister");t.search="?resource=".concat(encodeURI(e)),k.push(t.pathname+t.search+t.hash)}var P=n(564),L=n.n(P),_=n(565),R=n.n(_),U=n(105),M=function(){var e=Object(y.useWebId)();return e?a.a.createElement(U.a,{resource:u.a.sym(e),title:"View your profile"},a.a.createElement("span",{className:"icon"},a.a.createElement("img",{src:R.a,alt:"View your profile"}))):null},S=function(){var e=a.a.useContext(m.a),t=e.store,n=e.fetcher,r=N(t,n),o=a.a.createElement("img",{src:L.a,style:{height:"25px"},alt:"Data Browser"}),c=r?a.a.createElement(U.a,{resource:u.a.sym(r)},o):o;return a.a.createElement("header",{className:"header fixed"},a.a.createElement("div",{className:"header-wrap"},a.a.createElement("div",{className:"logo-block"},a.a.createElement("h1",null,c)),a.a.createElement("nav",{className:"nav nav__toolbar"},a.a.createElement("ul",null,a.a.createElement(y.LoggedIn,null,a.a.createElement("li",null,a.a.createElement(M,null)),a.a.createElement("li",null,a.a.createElement(y.LogoutButton,null))),a.a.createElement(y.LoggedOut,null,a.a.createElement("li",null,a.a.createElement(y.LoginButton,{popup:"popup.html"})))))))},A=function(){return a.a.createElement("div",{className:"card"},a.a.createElement("h2",null,"My profile"),a.a.createElement("p",null,"No name provided\u2026"))},I=function(){var e=a.a.useContext(m.a),t=e.store,n=e.fetcher,r=N(t,n),o=function(e,t){var n=Object(y.useWebId)(),r=a.a.useState(),o=Object(E.a)(r,2),c=o[0],l=o[1];return a.a.useEffect(function(){n&&function(e,t,n){return T.apply(this,arguments)}(e,t,n).then(l).catch(function(e){return console.log("Error fetching bookmarks:",e)})},[e,t,n]),c}(t,n);return Array.isArray(o)&&0!==o.length?a.a.createElement("div",{className:"card"},a.a.createElement("h2",null,"Latest bookmarks"),a.a.createElement("ul",null,o.slice(0,5).map(function(e){return a.a.createElement("li",{key:e.url},a.a.createElement("a",{href:e.url},e.title))})),a.a.createElement("a",{className:"ids-button",href:"https://vincenttunru.gitlab.io/poddit?idp=".concat(r||"")},"All bookmarks")):null};function T(){return(T=Object(f.a)(s.a.mark(function e(t,n,r){var a,o,c,l,i,p,f,d,m,w,h,g,b,y,N;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a.sym(r),o=t.statementsMatching(a,v.b.solid("publicTypeIndex"),null,a.doc(),!0),c=Object(E.a)(o,1),l=c[0],i=l.object,e.next=5,n.load(i);case 5:return p=new u.a.NamedNode("http://www.w3.org/2002/01/bookmark#Bookmark"),f=t.statementsMatching(null,v.b.solid("forClass"),p,i,!0),d=Object(E.a)(f,1),m=d[0],w=m.subject,h=t.statementsMatching(w,v.b.solid("instance"),null,i,!0),g=Object(E.a)(h,1),b=g[0],y=b.object,e.next=12,n.load(y);case 12:return N=t.statementsMatching(null,v.b.rdf("type"),p,y),e.abrupt("return",N.map(function(e){var n=new u.a.NamedNode("http://www.w3.org/2002/01/bookmark#recalls"),r=e.subject,a=t.statementsMatching(r,v.b.dct("title"),null,y),o=Object(E.a)(a,1)[0],c=t.statementsMatching(r,n,null,y),l=Object(E.a)(c,1)[0];return{title:o.object.value,url:l.object.value}}));case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}var D=function(){var e=a.a.useContext(m.a),t=e.store,n=e.fetcher,r=N(t,n);return r?a.a.createElement("div",{className:"card"},a.a.createElement("h2",null,"Raw data"),a.a.createElement("p",null,a.a.createElement(U.a,{className:"ids-link-filled ids-link-filled--primary",resource:u.a.sym("".concat(r,"/public/"))},"Public data"),a.a.createElement(U.a,{className:"ids-button",resource:u.a.sym("".concat(r,"/private/"))},"Private data"))):null},W=n(566),B=n.n(W),F=function(){var e=a.a.useContext(m.a),t=e.store,n=e.fetcher,r=N(t,n),o=r?"https://pixolid.netlify.com/?idp=".concat(r):"https://pixolid.netlify.com/";return a.a.createElement("div",{className:"card"},a.a.createElement("h2",null,"Try this app"),a.a.createElement("p",null,a.a.createElement("a",{href:o,title:"Open Pixolid"},a.a.createElement("img",{src:B.a,alt:"",style:{display:"inline-block",margin:"0 10%",maxWidth:"80%"}}))),a.a.createElement("p",null,a.a.createElement("a",{href:o,title:"Open Pixolid",className:"ids-button"},"Pixolid")))},V=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("section",{className:"grid__four-column grid"},a.a.createElement(A,null),a.a.createElement(F,null),a.a.createElement(D,null),a.a.createElement(I,null)))},q=u.a.graph(),z=new u.a.Fetcher(q,void 0),J=function(e){return e.resourcePath===e.podOrigin||e.resourcePath===e.podOrigin+"/"?a.a.createElement(V,null):a.a.createElement(b,{resource:e.resource})},G=function(){var e=N(q,z),t=function(e){var t=a.a.useState(),n=Object(E.a)(t,2),r=n[0],o=n[1];return a.a.useEffect(function(){if(e){var t=new URL(document.location.href).searchParams.get("resource"),n=t?decodeURI(t):e;return o(n),k.listen(function(t){var n=new URLSearchParams(t.search);o(decodeURI(n.get("resource")||e))})}},[e]),r}(e),n=function(e,t){var n=a.a.useState(),r=Object(E.a)(n,2),o=r[0],c=r[1];return a.a.useEffect(function(){if(c(void 0),e){var n=u.a.sym(e);t.load(n).then(function(e){c(n)})}},[e,t]),o}(t,z);if("undefined"===typeof e)return a.a.createElement(d,null);if(null===e)return a.a.createElement(a.a.Fragment,null,a.a.createElement("section",{className:"banner banner-wrap--error"},a.a.createElement("div",{className:"banner-wrap__content"},"Could not find a Pod to browse.")),a.a.createElement(x,null));var r={store:q,fetcher:z,podOrigin:e,loadResource:C};return a.a.createElement(m.a.Provider,{value:r},a.a.createElement("div",{className:"App"},a.a.createElement(S,null),a.a.createElement("div",{className:"header-spacer"}),a.a.createElement(J,{podOrigin:e,resourcePath:t,resource:n})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c});var r=n(28),a=n.n(r),o={acl:"http://www.w3.org/ns/auth/acl#",arg:"http://www.w3.org/ns/pim/arg#",cal:"http://www.w3.org/2002/12/cal/ical#",contact:"http://www.w3.org/2000/10/swap/pim/contact#",dc:"http://purl.org/dc/elements/1.1/",dct:"http://purl.org/dc/terms/",doap:"http://usefulinc.com/ns/doap#",foaf:"http://xmlns.com/foaf/0.1/",http:"http://www.w3.org/2007/ont/http#",httph:"http://www.w3.org/2007/ont/httph#",icalTZ:"http://www.w3.org/2002/12/cal/icaltzd#",ldp:"http://www.w3.org/ns/ldp#",link:"http://www.w3.org/2007/ont/link#",log:"http://www.w3.org/2000/10/swap/log#",meeting:"http://www.w3.org/ns/pim/meeting#",mo:"http://purl.org/ontology/mo/",owl:"http://www.w3.org/2002/07/owl#",pad:"http://www.w3.org/ns/pim/pad#",patch:"http://www.w3.org/ns/pim/patch#",qu:"http://www.w3.org/2000/10/swap/pim/qif#",trip:"http://www.w3.org/ns/pim/trip#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",rss:"http://purl.org/rss/1.0/",sched:"http://www.w3.org/ns/pim/schedule#",schema:"http:/schema.org/",sioc:"http://rdfs.org/sioc/ns#",solid:"http://www.w3.org/ns/solid/terms#",space:"http://www.w3.org/ns/pim/space#",stat:"http://www.w3.org/ns/posix/stat#",tab:"http://www.w3.org/2007/ont/link#",tabont:"http://www.w3.org/2007/ont/link#",ui:"http://www.w3.org/ns/ui#",vcard:"http://www.w3.org/2006/vcard/ns#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},c=Object.keys(o).reduce(function(e,t){return e[t]=function(e){return a.a.namedNode(o[t]+e)},e},{})},42:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(8),a=n.n(r),o=n(28),c=n.n(o),l={podOrigin:document.location.origin,store:c.a.graph(),fetcher:new o.Fetcher(c.a.graph(),void 0),loadResource:function(){}},u=a.a.createContext(l)},564:function(e,t,n){e.exports=n.p+"static/media/logo.13c16db9.svg"},565:function(e,t,n){e.exports=n.p+"static/media/user.267c6db6.svg"},566:function(e,t,n){e.exports=n.p+"static/media/pixolid.d34610cf.svg"},569:function(e,t,n){e.exports=n(1242)},774:function(e,t,n){},778:function(e,t){},780:function(e,t,n){var r={"./N3Lexer":239,"./N3Lexer.js":239,"./N3Parser":240,"./N3Parser.js":240,"./N3Store":360,"./N3Store.js":360,"./N3StreamParser":361,"./N3StreamParser.js":361,"./N3StreamWriter":367,"./N3StreamWriter.js":367,"./N3Util":241,"./N3Util.js":241,"./N3Writer":243,"./N3Writer.js":243};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=780},783:function(e,t){},785:function(e,t){},861:function(e,t){},862:function(e,t){},925:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=925},950:function(e,t,n){},951:function(e,t,n){var r={"./fallback/container":[1245,3],"./folder/container":[1244,4],"./profile/container":[1246,5]};function a(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],a=t[0];return n.e(t[1]).then(function(){return n(a)})}a.keys=function(){return Object.keys(r)},a.id=951,e.exports=a}},[[569,1,2]]]);
//# sourceMappingURL=main.580c9766.chunk.js.map