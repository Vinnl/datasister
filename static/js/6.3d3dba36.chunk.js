(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1246:function(e,t,n){"use strict";n.r(t);var a=n(42),c=n(6),r=n.n(c),l=n(17),o=n.n(l),i=n(295),s=n(294),m=n(161),p=function(e){return c.createElement(c.Fragment,null,c.createElement("h2",{className:"title"},"Applications"),c.createElement("p",{className:"content"},"Manage which applications can access data on your Pod."),c.createElement("p",{className:"content"},"Note: applications will never have more access than you have."),c.createElement("table",{className:"table is-fullwidth is-bordered is-striped"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,"Application URL"),c.createElement("th",null,"Access level"),c.createElement("th",null))),c.createElement("tbody",null,e.apps.map(function(t){return c.createElement(u,{key:t.origin,app:t,onSave:e.onSaveApp,onDelete:e.onDeleteApp})}))),c.createElement(d,{onSave:e.onSaveApp}))},u=function(e){var t={Read:-1!==e.app.modes.indexOf("Read"),Append:-1!==e.app.modes.indexOf("Append"),Write:-1!==e.app.modes.indexOf("Write"),Control:-1!==e.app.modes.indexOf("Control")},n=c.useState(t),r=Object(a.a)(n,2),l=r[0],o=r[1],i=function(e){return function(t){return function(e,t){o(Object(m.a)({},l,Object(s.a)({},e,t)))}(e,t.target.checked)}};return c.createElement("tr",null,c.createElement("td",null,c.createElement("p",null,e.app.origin)),c.createElement("td",null,c.createElement("form",{onSubmit:function(t){t.preventDefault();var n=Object.keys(l).filter(function(e){return l[e]});e.onSave(e.app.origin,n)}},c.createElement("div",{className:"field is-grouped"},c.createElement("div",{className:"control"},c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:i("Read"),checked:l.Read,name:"Read",id:"Read"}),"Read")),c.createElement("div",{className:"control"},c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:i("Append"),checked:l.Append,name:"Append",id:"Append"}),"Append")),c.createElement("div",{className:"control"},c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:i("Write"),checked:l.Write,name:"Write",id:"Write"}),"Write")),c.createElement("div",{className:"control"},c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:i("Control"),checked:l.Control,name:"Control",id:"Control"}),"Control"))),c.createElement("div",{className:"field"},c.createElement("div",{className:"control"},c.createElement("button",{type:"submit",className:"button is-small"},"Save"))))),c.createElement("td",{className:"has-text-right is-narrow"},c.createElement("button",{onClick:function(){return e.onDelete(e.app.origin)},className:"button is-danger is-small"},"Delete")))},d=function(e){var t=c.useState(),n=Object(a.a)(t,2),r=n[0],l=n[1],o=c.useState({Read:!1,Append:!1,Write:!1,Control:!1}),i=Object(a.a)(o,2),p=i[0],u=i[1],d=function(e){return function(t){return function(e,t){u(Object(m.a)({},p,Object(s.a)({},e,t)))}(e,t.target.checked)}};return c.createElement("form",{onSubmit:function(t){t.preventDefault();var n=Object.keys(p).filter(function(e){return p[e]});e.onSave(r,n)},className:"footer"},c.createElement("div",{className:"field"},c.createElement("label",{className:"label"},"App URL:"),c.createElement("input",{type:"url",onChange:function(e){return l(e.target.value)},name:"origin",id:"origin",placeholder:"https://example.com",className:"input"})),c.createElement("div",{className:"field"},c.createElement("div",{className:"control"},c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:d("Read"),name:"Read",id:"Read"}),"Read"),c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:d("Append"),name:"Append",id:"Append"}),"Append"),c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:d("Write"),name:"Write",id:"Write"}),"Write"),c.createElement("label",{className:"checkbox"},c.createElement("input",{type:"checkbox",onChange:d("Control"),name:"Control",id:"Control"}),"Control"))),c.createElement("div",{className:"field"},c.createElement("div",{className:"control"},c.createElement("button",{type:"submit",className:"button is-primary"},"Give access"))))};n.d(t,"TrustedApplications",function(){return b});var b=function(e){var t=Object(i.a)(e.store,e.profile),n=r.a.useState(t),c=Object(a.a)(n,2),l=c[0],s=c[1];if(!e.updater.editable(e.profile.doc().uri,e.store))return r.a.createElement("div",null,"Your profile ",e.profile.doc().uri," is not editable, so we cannot do much here.");return r.a.createElement("section",null,r.a.createElement(p,{apps:l,onSaveApp:function(t,n){return new Promise(function(a){var c=Object(i.c)(o.a.sym(t),e.profile,e.store),r=Object(i.b)(o.a.sym(t),Math.random().toString(36).substring(7),n,e.profile);e.store.updater.update(c,r,function(){var c={subject:e.profile.value,origin:t,modes:n};s(function(e,t){var n=t.findIndex(function(t){return t.origin===e.origin});return-1===n?t.concat(e):t.slice(0,n).concat(e).concat(t.slice(n+1))}(c,l)),a()})})},onDeleteApp:function(t){return new Promise(function(n){var a=Object(i.c)(o.a.sym(t),e.profile,e.store);e.store.updater.update(a,[],function(){s(function(e,t){var n=t.findIndex(function(t){return t.origin===e});return-1===n?t:t.slice(0,n).concat(t.slice(n+1))}(t,l)),n()})})}}))}}}]);
//# sourceMappingURL=6.3d3dba36.chunk.js.map